<!DOCTYPE html>
<html lang="en-GB">
	<head>
		<meta charset="utf-8" />
		<title>Ben is a cool guy</title>
	</head>
	<body>
		<header>
			<h1>Ben is really dope</h1>
			<nav>
				<h1>Places to go</h1>
				<a href="#">Page 1</a>
				<a href="#">Page 2</a>
				<a href="#">Page 3</a>
			</nav>
		</header>
		<article>
			<header>
				<h1>Article about Ben's greatness</h1>
			</header>
			<section class="best-section">
				<h1>First reason</h1>
				<p>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tristique lorem id ante interdum, non ullamcorper dui venenatis. Nam porta ipsum nec tempus pharetra. Duis scelerisque, odio eget vulputate consequat, erat purus porta tellus, blandit eleifend ante arcu non nunc. Proin sit amet accumsan libero. Curabitur vulputate ipsum quis lectus lobortis, sit amet rutrum eros mollis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nunc massa nunc, porta at pharetra non, dictum eget diam.
				</p>
				<aside>
					<h1>Another thing to consider about Ben</h1>
					In a auctor nibh, at aliquet ante. Aliquam hendrerit nulla sit amet fermentum facilisis. Sed elit turpis, pulvinar venenatis ipsum id, fringilla vehicula lacus. Fusce molestie finibus tortor eget semper.
				</aside>
			</section>
			<section>
				<h1>Second reason</h1>
				<p>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tristique lorem id ante interdum, non ullamcorper dui venenatis. Nam porta ipsum nec tempus pharetra. Duis scelerisque, odio eget vulputate consequat, erat purus porta tellus, blandit eleifend ante arcu non nunc. Proin sit amet accumsan libero. Curabitur vulputate ipsum quis lectus lobortis, sit amet rutrum eros mollis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nunc massa nunc, porta at pharetra non, dictum eget diam.
				</p>
				<aside>
					<h1>Further Ben considerations</h1>
					In a auctor nibh, at aliquet ante. Aliquam hendrerit nulla sit amet fermentum facilisis. Sed elit turpis, pulvinar venenatis ipsum id, fringilla vehicula lacus. Fusce molestie finibus tortor eget semper.
				</aside>
			</section>
		</article>
		<article>
			<header>
				<h1>Article with picture of Ben</h1>
			</header>
			<figure>
				<img src="img/ben.jpg">
				<figcaption>
					The man himself.
				</figcaption>
			</figure>
		</article>
		<article>
			<header>
				<h1>Ben's Progress</h1>
			</header>
			<section class="best-section">
				<h1>Towards being a model human being</h1>
				<progress value="69" max="75"></progress>
				<p>Ben is getting <mark>extremely</mark> close</p>
			</section>
			<section>
				<h1>Towards the ethereal void</h1>
				<progress max="101"></progress>
				<p>Praise be unto him</p>
			</section>
		</article>
		<footer>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tristique lorem id ante interdum, non ullamcorper dui venenatis.
			</p>
		</footer>
		<article id="target">
			<ul>
				<li>First</li>
				<li>Second</li>
				<li>Third</li>
				<li class="rip">Remove Me</li>
				<li class="rip">Also Remove Me</li>
				<li class="switch">Also Remove Me</li>
			</ul>
		</article>
		<article>
			<header>
				<h1>Clip of people enjoying Ben</h1>
			</header>
			<section>
				<h1>The Clip</h1>
				<video autoplay controls loop poster="img/ben.jpg" height="270" width="640" id="goodVideo">
					<source src="video/good.mp4" type="video/mp4">
					<object>
						<p>Video is not supported by this browser</p>
					</object>
				</video>
			</section>
			<section>
				<h1>Extra Controls</h1>
				<button onclick="video.play();">Play</button>
				<button onclick="video.pause();">Pause</button>
				<button onclick="video.forward();">Forward</button>
				<button onclick="video.back();">Back</button>
			</section>
		</article>
		<article>
			<header>
				<h1>Ben's sounds</h1>
			</header>
			<section>
				<h1>Sax</h1>
				<audio controls loop id="goodAudio">
					<source src="sound/sax.mp3">
					<object>
						<p>Audio is not supported by this browser</p>
					</object>
				</audio>
			</section>
			<section>
				<h1>Extra Controls</h1>
				<button onclick="audio.play();">Play</button>
				<button onclick="audio.pause();">Pause</button>
				<button onclick="audio.forward();">Forward</button>
				<button onclick="audio.back();">Back</button>
			</section>
		</article>
		<article>
			<header>
				<h1>Feelings about Ben expressed as Art</h1>
			</header>
			<section>
				<h1>"Summer Coveney" <small>by Ben Coveney</em></h1>
				<canvas id="picture1" width="600" height="400">
			</section>
			<section>
				<h1>"Scovable Benctor Graphics" <small>by Ben Coveney</em></h1>
				<svg width="600" height="400">
					<circle cx="50" cy="50" r="50", fill="green" onmouseover="Red(event)" onmouseout="Green(event)" />

					<rect x="100" y="100" width="60" height="200" fill="black" />
					<circle cx="129" cy="145" r="25" fill="red" />
					<circle cx="129" cy="205" r="25" fill="yellow" />
					<circle cx="129" cy="265" r="25" fill="green" />

					<polygon points="200,15 230,35 210,85 300,85 270,35 300,15" fill="purple" />

					<polyline points="10,150 30,170 50,132 60,196 78,165 96,170" style="stroke:orange; fill:none; stroke-width: 5;" />

					<line x1="200" y1="100" x2="200" y2="150" style="stroke: blue; stroke-width: 3;" />

					<ellipse cx="250" cy="150" rx="30" ry="55" fill="brown" />

					<text x="200" y="300" style="stroke: black; stroke-width: 1;">
						Has anyone really been far even as decided to use even go want to do look more like?
					</text>

					<image href="img/soapy.png" width="250" height="250" x="300"/>
				</svg>
			</section>
		</article>
		<article>
			<header>
				<h1>Visit Counter</h1>
			</header>
			<section id="sessionVisits">
				<h1>Session</h1>
				<span></span>
				<button onclick="clearSession();">Clear</button>
			</section>
			<section id="localVisits">
				<h1>Local</h1>
				<span></span>
				<button onclick="clearLocal();">Clear</button>
			</section>
		</article>
		<script>
			window.onload = function() {
				// DOM Querying -----------------------------------------

				// getElementById
				var list = document.getElementById("target");
				console.log(list.innerHTML);

				// getElementByClassName
				var sections = document.getElementsByClassName("best-section");
				console.log(sections);

				// getElementByTagName
				var headings = document.getElementsByTagName("p");
				console.log(headings.length);

				// querySelector
				var firstParagraph = document.querySelector("section > p");
				console.log(firstParagraph.innerHTML);

				// querySelectorAll
				var topHeadings = document.querySelectorAll("header > h1");
				console.log(topHeadings.length);

				for(var i = 0; i < topHeadings.length; i++) {
					console.log(topHeadings[i].innerHTML);
				}

				// DOM Hierarchy
				var unordered = list.querySelector("#target ul");
				console.log(unordered.childNodes.length);
				console.log(unordered.firstChild.data);
				console.log(unordered.lastChild.innerHTML);
				console.log(unordered.hasChildNodes());

				// DOM manipulation -----------------------------------------

				// removeChild
				var listItem = document.querySelector("#target ul li.rip");
				listItem.parentElement.removeChild(listItem);

				// remove, book recommends removeNode(true) but it is IE only
				listItem = document.querySelector("#target ul li.rip");
				listItem.remove();

				// createElement, appendChild
				var newItem = document.createElement("li");
				unordered.appendChild(newItem);
				newItem.innerHTML = "<em>OUTTA NOWHERE</em>";

				// insertBefore
				var anotherItem = unordered.insertBefore(document.createElement("li"), newItem);
				anotherItem.innerHTML = "<strong>R-r-r-rewind</strong>";

				// replaceChild, book recommends replaceNoe but it is IE only
				var firstListItem = document.querySelector("#target ul li");
				var replacementItem = document.createElement("li");
				unordered.replaceChild(replacementItem, firstListItem);
				replacementItem.innerHTML = "<mark>SwitcharooooooooOOOOOOOOOOOOO</mark>";

				// Canvas -----------------------------------------

				var canvas = document.getElementById("picture1");
				var context = canvas.getContext("2d");

				// Lines
				context.beginPath();
				context.moveTo(10, 10); // With pen up
				context.lineTo(255, 350); // With pen down
				context.lineTo(300, 10);
				context.lineTo(400, 350);
				context.lineWidth = 5;
				context.lineCap = "round";
				context.strokeStyle = "#88FF00";
				context.stroke(); // Create line

				// Curves
				// context.arc(centerX, centerY, radius, startAngle, endAngle, counterClockwise)
				context.beginPath();
				context.arc(150, 100, 75, 0, 2 * Math.PI, false);
				context.lineWidth = 24;
				context.strokeStyle = "#00FF88";
				context.stroke();

				context.beginPath();
				context.arc(450, 100, 75, 1.5 * Math.PI, 2 * Math.PI, false);
				context.lineWidth = 21;
				context.strokeStyle = "#0088FF";
				context.stroke();

				context.beginPath();
				context.arc(150, 300, 75, Math.PI, 1.5 * Math.PI, false);
				context.lineWidth = 18;
				context.strokeStyle = "#00FFFF";
				context.stroke();

				context.beginPath();
				context.arc(450, 300, 75, 0.5 * Math.PI, Math.PI, false);
				context.lineWidth = 15;
				context.strokeStyle = "#FF0000";
				context.stroke();

				// context.quadraticCurveTo(controlX, controlY, endX, endY)
				context.beginPath();
				context.moveTo(10, 380);
				context.quadraticCurveTo(300, -250, 580, 380);
				context.lineWidth = 12;
				context.strokeStyle = "#FF8800";
				context.stroke();

				// context.bezierCurveTo(control1X, control1Y, control2X, control2Y, endX, endY)
				context.beginPath();
				context.moveTo(125, 20);
				context.bezierCurveTo(0, 200, 300, 300, 50, 400);
				context.lineWidth = 9;
				context.strokeStyle = "#FF0088";
				context.stroke();

				// rect(x, y, width, height)
				context.beginPath();
				context.rect(300, 200, 150, 75);
				context.stroke();
				context.fillStyle = "#FFFF88";
				context.fill();

				// fillRect(x, y, width, height)
				context.fillStyle = "#FF88FF";
				context.fillRect(225, 125, 150, 75);

				// Linear gradient
				context.beginPath();
				context.rect(150, 150, 200, 125);
				var gradient = context.createLinearGradient(150, 150, 200, 125);
				gradient.addColorStop(0, "#000000");
				gradient.addColorStop(0.5, "#FF8888");
				gradient.addColorStop(1, "#FFFFFF");
				context.fillStyle = gradient;
				context.fill();

				// Radial gradient
				context.beginPath();
				context.rect(450, 150, 200, 125);
				var gradient = context.createRadialGradient(500, 200, 5, 550, 250, 100);
				gradient.addColorStop(0, "#000000");
				gradient.addColorStop(0.5, "#88FF88");
				gradient.addColorStop(1, "#FFFFFF");
				context.fillStyle = gradient;
				context.fill();

				// Images
				var image = new Image();
				image.src = "img/soapy.png";
				image.onload = function() {
					// Image fill style
					context.beginPath();
					context.rect(400, 225, 275, 200);
					var pattern = context.createPattern(image, "repeat");
					context.fillStyle = pattern;
					context.fill();

					// drawImage()
					context.drawImage(image, 0, 275, image.height / 2, image.width / 2)
				};

				// Text
				context.lineWidth = 1;
				context.strokeStyle = "#880088";
				context.strokeText("It's good", 100, 100);
				
				context.font = "24px arial";
				context.strokeText("It's really good", 100, 120);
				
				context.textAlign = "center";
				context.strokeStyle = "#008888";
				context.strokeText("It's great", 100, 150);
				
				context.fillStyle = "#888800";
				context.fillText("It's amazing", 100, 180);

				// Storage
				loadSession();
				loadLocal();
			}

			function getVideo() {
				return document.getElementById("goodVideo");
			}
			var video = {
				play: function() {
					getVideo().play();
				},
				pause: function() {
					getVideo().pause();
				},
				forward: function() {
					getVideo().currentTime += 5
				},
				back: function() {
					getVideo().currentTime -= 5;
				}
			}

			function getAudio() {
				return document.getElementById("goodAudio");
			}
			var audio = {
				play: function() {
					getAudio().play();
				},
				pause: function() {
					getAudio().pause();
				},
				forward: function() {
					getAudio().currentTime += 0.5
				},
				back: function() {
					getAudio().currentTime -= 0.5;
				}
			}

			function Red(event) {
				var circle = event.target;
				circle.setAttribute("style", "fill: red");
			}

			function Green(event) {
				var circle = event.target;
				circle.setAttribute("style", "fill: green");
			}

			function clearSession() {
				sessionStorage.removeItem("visits");
				loadSession();
			}

			function loadSession() {
				var sessionElement = document.querySelector("#sessionVisits > span");
				var sessionCount = JSON.parse(sessionStorage.getItem("visits"));
				sessionCount = sessionCount ? sessionCount + 1 : 1;
				sessionElement.innerText = sessionCount;
				sessionStorage.setItem("visits", sessionCount);
			}

			function clearLocal() {
				localStorage.removeItem("visits");
				loadLocal();
			}

			function loadLocal() {
				var localElement = document.querySelector("#localVisits > span");
				var localCount = JSON.parse(window.localStorage.getItem("visits"));
				localCount = localCount ? localCount + 1 : 1;
				localElement.innerText = localCount;
				localStorage.setItem("visits", localCount);
			}
		</script>
	</body>
</html>